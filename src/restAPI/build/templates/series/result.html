{% extends "base/main_base.html" %}
{% block page_title %}Asymptotic Series{% endblock %}
{% block main_title %}Expansion Result{% endblock %}
{% block in_container_content %}
<!-- MAIN FORM -->
<div class="text-center mx-5 mb-4">
          <div class="row justify-content-center">
              <div class="col-auto">
                  <!-- Formulation -->
                  <h4 class="border-bottom mb-5"> Formulation </h4>
                  <p>
                      Our objective function is given as follows, {{formula_1 | safe}}
                      It can be shown that, the above objective function is asymptotically equivalent to the following series,
                      {{formula_2 | safe}}
                      The back-end algorithm provided in this web page, will take the input values, which are
                      \[ x = {{x | float}}, \qquad n= {{n | int}}, \] and substitute them into the above expansion.
                      After that, we will obtain numerical result for the expansion given as
                      <span style="font-size: 32px; color: #00A36C " >
                          \[ {{formula_0 | safe}}({{x | float}}) \sim {{last_iteration | float}} \]
                      </span>
                  </p>
                  <p>
                      The choice of index \( n \) is so critical for the numerical convergence. For instance,
                      we know that, for the exponential series Ei\((x)\), to obtain most accurate numerical result
                      from the expansion, the \( n \) should be chosen as integer part of the evaluation point \(x\).
                      By specifying value for \( n \), while running the algorithm, we can confirm this result.
                  </p>
                  </div>
        </div>
        <!-- Table -->
          <h4 class="border-bottom mb-5"> Table </h4>
        <div class="row justify-content-center">
            <div class="col-auto">
                {{data_frame | safe}}
            </div>
        </div>

        <!-- Graph Result -->
        <h4 class="border-bottom mb-5"></h4>
          <div class="outbox">
              <div class="container">
    <canvas id="myChart1" width="1200" height="600"></canvas>
              </div>
          </div>
          <script>
            var canvas1 = document.getElementById('myChart1');
            var chart1 = new Chart(canvas1, {
            type: 'line',

            data: {
                labels: {{ linear_space | safe }},
                datasets: [{
                    label: "Line chart for sweep data",
                    data: {{ graph_result_y | safe }},
                    borderColor: "#1F51FF",
                    backgroundColor: "rgba(159,170,174,0.9)",
                    hoverBackgroundColor: "rgba(232,105,90,0.9)",
                    hoverBorderColor: "orange",
                    fill: false
                }]
            },
            options: {
                legend: {
                    labels: {
                        fontColor: "#00FFFF",
                        fontSize: 22
                    }
                },
                scales: {
                    yAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Value of Expansion',
                            fontColor: "#00FFFF",
                            fontSize: 18,
                        },
                        ticks: {
                            fontColor: "#00A36C",
                            fontSize: 18,
                            stepSize: 1,
                            beginAtZero: true
                        }
                    }],
                    xAxes: [{
                        display: true,
                        scaleLabel: {
                            display: true,
                            labelString: 'Iteration',
                            fontColor: "#00FFFF",
                            fontSize: 18,
                        },
                        ticks: {
                            fontColor: "#00A36C",
                            fontSize: 18,
                            stepSize: 1,
                            beginAtZero: true
                        }
                    }]
                }
            }
            }
            );
</script>

        <!-- Graph Error -->
        <h4 class="border-bottom mb-5"></h4>

          <div class="outbox">
              <div class="container">
    <canvas id="myChart2" width="1200" height="600"></canvas>
  </div>
          </div>
          <script>
        var canvas2 = document.getElementById('myChart2');
        var chart2 = new Chart(canvas2, {
            type: 'line',

            data: {
                labels: {{ linear_space | safe }},
                datasets: [{
                    label: 'Asymptotic Expansion Error Analysis',
                    data: {{ graph_error_y | safe }},
                    borderColor: "#1F51FF",
                    backgroundColor: "rgba(159,170,174,0.9)",
                    hoverBackgroundColor: "rgba(232,105,90,0.9)",
                    hoverBorderColor: "orange",
                    fill: false
                }]
            },
       options: {
            legend: {
                labels: {
                    fontColor: "#00FFFF",
                    fontSize: 22
                }
            },
            scales: {
                yAxes: [{
                display: true,
                scaleLabel: {
                display: true,
            labelString: 'Term Differences at Each Iteration',
            fontColor: "#00FFFF",
            fontSize: 18,
          },
                    ticks: {
                        fontColor: "#00A36C",
                        fontSize: 18,
                        stepSize: 1,
                        beginAtZero: true,
                    }
                }],
                xAxes: [{
                display: true,
                scaleLabel: {
                display: true,
            labelString: 'Iteration',
            fontColor: "#00FFFF",
            fontSize: 18,
          },
                    ticks: {
                        fontColor: "#00A36C",
                        fontSize: 18,
                        stepSize: 1,
                        beginAtZero: true
                    }
                }]
            }
        }
        }
       );
</script>
          <div align="left">
          <a type="button" class="btn btn-danger" href="{{ url_for('series.index') }}">Back</a>
          </div>
      </div>
{% endblock %}
